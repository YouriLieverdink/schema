{
  "name": "whocooks-users",
  "description": "The models and resources associated with users.",

  "imports": [
    {
      "uri": "https://app.apibuilder.io/iruoy/whocooks-common/0.0.4-dev/service.json"
    }
  ],

  "models": {
    "user": {
      "description": "An authenticated user within the system.",
      "fields": [
        { "name": "id", "type": "uuid" },
        { "name": "email", "type": "string" }
      ]
    },
    "attributes": [
      {
        "name": "mongo",
        "value": {
          "_id": "id",
          "indexes": ["email"]
        }
      }
    ]
  },

  "resources": {
    "iruoy.whocooks.common.v0.models.healthcheck": {
      "path": "/_internal_",
      "operations": [
        {
          "method": "GET",
          "description": "Retrieve the status of the service.",
          "path": "/healthcheck",
          "responses": {
            "200": { "type": "iruoy.whocooks.common.v0.models.healthcheck" },
            "500": { "type": "iruoy.whocooks.common.v0.models.error" }
          }
        }
      ]
    },

    "user": {
      "path": "/users",
      "description": "Endpoint for managing the user resource.",
      "operations": [
        {
          "method": "GET",
          "path": "/me",
          "description": "Show the current user.",
          "responses": {
            "200": { "type": "user" },
            "401": { "type": "unit" }
          }
        }
      ]
    }
  }
}
